<main class="container mt-6">
  <div class="mb-6">
    <h1 class="text-3xl font-bold">{{ "admin.title" | translate }}</h1>
    <p class="text-sm opacity-80">{{ "admin.manageYourEvents" | translate }}</p>
  </div>
  <div class="flex justify-between flex-col sm:flex-row gap-4 mb-6">
    <p-iconfield>
      <p-inputicon styleClass="pi pi-search" />
      <input #searchInput type="text" pInputText [placeholder]="'admin.search' | translate" class="w-full sm:!w-96"
        (input)="dt1.filterGlobal(searchInput.value, 'contains')" />
    </p-iconfield>
    <p-button [label]="'admin.addNewEvent' | translate" icon="pi pi-plus" styleClass="w-full" />
  </div>
  <p-table #dt1 [value]="events" [tableStyle]="{ 'min-width': '50rem' }" [globalFilterFields]="
      lang === 'ar'
        ? ['ar.eventName', 'ar.category', 'ar.venue']
        : ['eventName', 'category', 'venue']
    ">
    <ng-template #header>
      <tr>
        <th>{{ "admin.eventName" | translate }}</th>
        <th>{{ "admin.category" | translate }}</th>
        <th>{{ "admin.venue" | translate }}</th>
        <th>{{ "admin.date" | translate }}</th>
        <th>{{ "admin.price" | translate }}</th>
        <th>{{ "admin.actions" | translate }}</th>
      </tr>
    </ng-template>
    <ng-template #body let-event>
      <tr>
        <td>{{ lang === "ar" ? event.ar.eventName : event.eventName }}</td>
        <td>{{ lang === "ar" ? event.ar.category : event.category }}</td>
        <td>{{ lang === "ar" ? event.ar.venue : event.venue }}</td>
        <td>{{ event.date | date : "dd/MM/yyyy â€¢ HH:mm" }}</td>
        <td>
          {{
          event.price === 0
          ? ("admin.free" | translate)
          : event.price + " " + ("admin.egp" | translate)
          }}
        </td>
        <td class="flex items-center gap-2">
          <p-button icon="pi pi-pen-to-square" [rounded]="true" [text]="true" severity="secondary" size="small" />
          <p-button icon="pi pi-trash" [rounded]="true" [text]="true" severity="danger" size="small"
            (click)="showDialog()" />
        </td>
      </tr>
    </ng-template>
  </p-table>
  <!-- Delete Dialog -->
  <p-dialog [header]="'admin.dialog.deleteHeader' | translate" [modal]="true" [draggable]="false" [(visible)]="visible"
    [style]="{ width: '25rem' }">
    <div class="flex justify-end gap-2">
      <p-button [label]="'admin.dialog.cancel' | translate" severity="secondary" (click)="visible = false" />
      <p-button [label]="'admin.dialog.delete' | translate" severity="danger" (click)="visible = false" />
    </div>
  </p-dialog>
</main>